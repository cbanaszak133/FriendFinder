<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder Surey</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">
    <div class="jumbotron">
      <h2><span class="glyphicon glyphicon-user"></span> <strong>Friend Finder - Find some Friends!</strong></h2>
      
      <hr>
      <h2>Survey time! Answer truthfully in order to find your most compatable friend!</h2>
      <a href="/home" class="text-center"><button type="button" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-th-list"></span> Go Back Home</button></a>
    </div>

    <h3>Name (required)</h3>
      <input type="text" id="name" class="form-control" required="">

    <h3>Link to Photo (required)</h3>
      <input type="text" id="photoLink" class="form-control" required=""> 

    <hr>

    <h3>Question 1</h3>
    <h4>You most identify with the character Sam from the Lord of the Rings trilogy.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q1">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 2</h3>
    <h4>If you were a color, you would be blue.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q2">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 3</h3>
    <h4>You'd rather eat lembas bread over potatoes any day of the week.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q3">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 4</h3>
    <h4>You rarely take initiative; you feel like you ride on the coat tails of others.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q4">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 5</h3>
    <h4>You like to garden.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q5">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 6</h3>
    <h4>You would take the Path of Caradhras OVER the Mines of Moria.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q6">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 7</h3>
    <h4>When you go to parties, you usually escape awkward conversations by putting on a ring that makes you invisible.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q7">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 8</h3>
    <h4>The smell of salted pork makes you salivate profusely.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q8">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 9</h3>
    <h4>You feel like Minas Tirith is so overrrated, and Rivendell is an underrated vacation gem.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q9">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>


    <h3>Question 10</h3>
    <h4>You're idea of a good time is staying home and reading.</h4>

    <div class="form-group">
        <select class="form-control" style="width:155px" id="q10">
          <option selected disabled>Choose here</option>
          <option value="1">1 (Strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly agree)</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
        <span class="glyphicon glyphicon-ok"></span>
        Submit
    </button>

    <hr>

    <a href="/api/friends" style="padding-bottom:15px">API Friends List</a>

    <div class="modal fade" id="result-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Your Best Friend Result</h2>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img src="" id="match-img" width="300px" height="200px">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  
</div>


  <script type="text/javascript">

    $("#submit").on("click",function(event){
      event.preventDefault();

      var userRes = {
        name: $("#name").val(),
        photo: $("#photoLink").val(),
        responses: [
          $("#q1").val(),
          $("#q2").val(),
          $("#q3").val(),
          $("#q4").val(),
          $("#q5").val(),
          $("#q6").val(),
          $("#q7").val(),
          $("#q8").val(),
          $("#q9").val(),
          $("#q10").val(),
        ]
      };

      $.post("/api/friends", userRes, function(res){
        $("#match-name").text(res.name);

        $("#match-img").attr("src", res.photo);

        $("#result-modal").modal("toggle");
      });
      
      $("#name").val("");
      $("#photoLink").val("");

      $(".form-control").prop("selectedIndex", 0)

    });





  </script>

</body>
</html>
